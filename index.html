<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>Tr√≤ ch∆°i nh·ªè cho Trang ‚ù§Ô∏è</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg, #ff9a9e, #fad0c4);
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }
    .container {
      width: 800px;
      max-width: 95%;
      background: rgba(255,255,255,0.9);
      border-radius: 20px;
      padding: 20px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    }
    h1, h2 {
      text-align: center;
      color: #ff4d6d;
    }
    .question {
      margin: 15px 0;
      font-size: 18px;
    }
    button {
      padding: 10px 20px;
      border: none;
      border-radius: 25px;
      background: #ff4d6d;
      color: white;
      font-size: 16px;
      cursor: pointer;
      margin: 10px;
    }
    button:hover {
      background: #e63956;
    }
    canvas {
      display: none;
      background: linear-gradient(#87ceeb, #e0f7fa);
      border-radius: 15px;
      margin: 0 auto;
      display: block;
    }
    #loveText {
      display: none;
      text-align: center;
      font-size: 48px;
      color: #ff4d6d;
      font-weight: bold;
      margin-top: 30px;
    }
  </style>
</head>
<body>
  <div class="container">
    <div id="quiz">
      <h1>C√¢u h·ªèi ·ª©c ch·∫ø d√†nh cho Trang üòÜ</h1>
      <div class="question">1. Anh nh·∫Øn tin m√† Trang seen kh√¥ng rep l√† v√¨ ƒëi·ªÅu g√¨?</div>
      <button onclick="nextQuestion()">B·∫≠n x√≠u</button>
      <button onclick="nextQuestion()">Gi·∫≠n vu v∆°</button>

      <div class="question">2. Khi anh n√≥i "Anh kh√¥ng sao" th√¨ nghƒ©a l√†?</div>
      <button onclick="nextQuestion()">·ªîn th·∫≠t</button>
      <button onclick="nextQuestion()">Kh√¥ng ·ªïn t√≠ n√†o</button>

      <div class="question">3. Trang h·ªèi "Anh c√≥ gi·∫≠n kh√¥ng?" th√¨ ƒë√°p √°n ƒë√∫ng l√†?</div>
      <button onclick="nextQuestion()">Kh√¥ng</button>
      <button onclick="nextQuestion()">C√≥ nh∆∞ng v·∫´n y√™u</button>

      <div class="question">4. N·∫øu c√£i nhau xong ai n√™n l√†m l√†nh tr∆∞·ªõc?</div>
      <button onclick="startGame()">Anh</button>
      <button onclick="startGame()">V·∫´n l√† anh</button>
    </div>

    <canvas id="game" width="760" height="200"></canvas>
    <div id="loveText">Anh y√™u Em ‚ù§Ô∏è</div>
  </div>

  <script>
    let canvas = document.getElementById('game');
    let ctx = canvas.getContext('2d');
    let player = { x: 50, y: 150, w: 20, h: 20, vy: 0, jump: false };
    let obstacles = [];
    let gravity = 0.8;
    let speed = 4;
    let gameRunning = false;

    function nextQuestion() {
      // ch·ªâ ƒë·ªÉ b·∫•m cho vui üòÑ
    }

    function startGame() {
      document.getElementById('quiz').style.display = 'none';
      canvas.style.display = 'block';
      gameRunning = true;
      obstacles = [{ x: 400, w: 20 }, { x: 600, w: 20 }];
      requestAnimationFrame(loop);
    }

    document.addEventListener('keydown', e => {
      if (e.code === 'Space' && !player.jump) {
        player.vy = -12;
        player.jump = true;
      }
    });

    function loop() {
      if (!gameRunning) return;
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      // player
      player.vy += gravity;
      player.y += player.vy;
      if (player.y >= 150) {
        player.y = 150;
        player.vy = 0;
        player.jump = false;
      }
      ctx.fillStyle = '#ff4d6d';
      ctx.fillRect(player.x, player.y, player.w, player.h);

      // obstacles
      ctx.fillStyle = '#333';
      for (let obs of obstacles) {
        obs.x -= speed;
        ctx.fillRect(obs.x, 150, obs.w, 20);
        if (obs.x < -20) obs.x = canvas.width + Math.random() * 200;

        // collision
        if (
          player.x < obs.x + obs.w &&
          player.x + player.w > obs.x &&
          player.y + player.h > 150
        ) {
          gameRunning = false;
          alert('Thua r·ªìi üòù ch∆°i l·∫°i nha');
          location.reload();
        }
      }

      // finish
      if (player.x > canvas.width - 60) {
        gameRunning = false;
        canvas.style.display = 'none';
        document.getElementById('loveText').style.display = 'block';
      }

      player.x += 1;
      requestAnimationFrame(loop);
    }
  </script>
</body>
</html>
